# KV-Storage
 
### **SetUp:**
Установить все необходимые библиотеки из файла 'requirements.txt'<br/>
Запустить виртуальную среду (venv)

### **Использование:** 
Используйте команды для cmd (из директории проекта)<br/>
Подробное описание команд приведено ниже<br/>
При вводе очередной ошибки может появиться сообщение 
"Token expired, please relogin". В таком случае нужно вручную выполнить 
команду *login*

### **Доступные команды:**
1) kvlogin *login* *password* - выполняет авторизацию пользователя, создавая 
    токен, который действителен 15 минут
    + *login:* логин пользователя
    + *password:* пароль пользователя 

   ##### Пример:
    Код ниже выполнит авторизацию пользователя *abc* с паролем *abc*

        kvlogin abc abc
    <br/>


2) kvnew *storage_name* - создает новое key-value хранилище
    + *storage_name:* имя хранилища

   ##### Пример:
    Код ниже создаст хранилище *stor1*

        kvnew stor1
    <br/>


3) kvadd *storage_name* *key* *value* - добавляет в указанное хранилище пару 
    ключ-значение
    + *storage_name:* имя хранилища
    + *key:* ключ
    + *value:* значение

   ##### Пример:
    Код ниже добавит в *stor1* пару (*key1:* *val1*)

        kvadd stor1 key1 val1
    <br/>


4) kvaddttl *storage_name* *key* *value* *ttl* - добавляет в указанное 
    хранилище пару ключ-значение с определенным временем жизни
    + *storage_name:* имя хранилища
    + *key:* ключ
    + *value:* значение
    + *ttl:* время жизни данной пары

   ##### Пример:
    Код ниже добавит в *stor1* пару (*keyttl:* *valttl*), которая будет 
    находиться в хранилище 10 минут

        kvaddttl stor1 keyttl valttl ttl="10"
    <br/>


5) kvget *storage_name* *key* - возвращает значение из хранилища по ключу
    + *storage_name:* имя хранилища
    + *key:* ключ

   ##### Пример:
    Код ниже вернет значение *val1* из пары (*key1:* *val1*) в *stor1*

        kvget stor1 key1
    <br/>


6) kvgetall *storage_name* - возвращает список всех ключей из хранилища
    + *storage_name:* имя хранилища

   ##### Пример:
    Код ниже вернет список [*key1*, *key2*, ...] со всеми 
    ключами из *stor1*

        kvgetall stor1
    <br/>


7) kvgetanyregistr *storage_name* *key* - возвращает значение по ключу в любом 
    регистре
    + *storage_name:* имя хранилища
    + *key:* ключ в любом регистре

   ##### Пример:
    Код ниже вернет *val1* из пары (*key1:* *val1*) в *stor1*,

        kvgetanyregistr stor1 KeY1
    <br/>


8) kvgetpref *storage_name* *key_prefix* - возвращает список пар ключ-значение по
    префиксу ключа
    + *storage_name:* имя хранилища
    + *key_prefix:* префикс ключа

   ##### Пример:
    Код ниже вернет список всех пар из *stor1*, в которых ключ начинает с *ke*

        kvgetpref stor1 ke
    <br/>


9) kvdel *storage_name* *key* - удаляет из указанного хранилища пару 
    ключ-значение
    + *storage_name:* имя хранилища
    + *key:* ключ

   ##### Пример:
    Код ниже удалит пару (*key1:* *val1*) из *stor1*

        kvdel stor1 key1
    <br/>


10) kvset *storage_name* *key* *new_value* - заменяет значение в указанном 
    хранилище на новое
    + *storage_name:* имя хранилища
    + *key:* ключ
    + *new_value:* новое значение
    
    ##### Пример:
    Код ниже выполнит замену значения *val1* из пары (*key1:* *val1*) 
    на *newvalue* в *stor1*

        kvset stor1 key1 newv
    <br/>
